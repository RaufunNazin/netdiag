@tailwind base;
@tailwind components;
@tailwind utilities;

button {
  cursor: pointer;
}

.view-only .react-flow__node {
  cursor: grab !important;
}

.view-only .react-flow__handle {
  display: none;
}

.view-only .react-flow__background {
  background-color: #f8f8f8;
}

@layer components {
  .label-style {
    /* Added dark:text-neutral-200 */
    @apply block text-sm font-semibold text-neutral-700 dark:text-neutral-200 mb-1;
  }

  .input-style {
    /* Added dark:bg-neutral-900, dark:border-neutral-700, dark:text-neutral-50 */
    @apply w-full p-2 border border-neutral-300 dark:border-neutral-700 rounded-md 
           bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50
           transition-colors duration-200
           focus:outline-none focus:border-neutral-500 dark:focus:border-neutral-400;
  }

  .input-style-disabled {
    /* Added dark:bg-neutral-950, dark:border-neutral-800, dark:text-neutral-500 */
    @apply w-full p-2 border border-neutral-200 dark:border-neutral-800 rounded-md 
           bg-neutral-100 dark:bg-neutral-950 text-neutral-500 dark:text-neutral-500 cursor-not-allowed;
  }

  .btn-primary {
    @apply px-5 py-2 bg-blue-600 text-white font-semibold rounded-md shadow-md 
           hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 
           disabled:bg-neutral-400 disabled:cursor-not-allowed transition-colors duration-200;
  }

  .btn-secondary {
    /* Added dark:bg-neutral-800, dark:text-neutral-200, dark:hover:bg-neutral-700 */
    @apply px-5 py-2 bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 font-semibold rounded-md 
           hover:bg-neutral-300 dark:hover:bg-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-neutral-400
           transition-colors duration-200;
  }
}

.react-flow__attribution {
  display: none !important;
}

/* EditFab.css */

/* --- 1. Pencil Animation (Write Once) --- */
@keyframes write-wiggle-once {
  0% {
    transform: rotate(0deg) translateY(0px);
  }
  25% {
    transform: rotate(15deg) translateY(-2px);
  }
  50% {
    transform: rotate(0deg) translateY(0px);
  }
  75% {
    transform: rotate(-10deg) translateY(1px);
  }
  100% {
    transform: rotate(0deg) translateY(0px);
  }
}

.edit-fab-btn:hover .icon-writing {
  display: inline-block;
  transform-origin: bottom left;
  /* Removed 'infinite', runs once per hover */
  animation: write-wiggle-once 0.5s ease-in-out;
}

/* --- 2. Lock Animation (Shake Once) --- */
@keyframes lock-shake-once {
  0% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(15deg);
  }
  50% {
    transform: rotate(0deg);
  }
  75% {
    transform: rotate(-15deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

.edit-fab-btn:hover .icon-locking {
  display: inline-block;
  transform-origin: center;
  /* Runs once per hover */
  animation: lock-shake-once 0.4s ease-in-out;
}

/* resetfab */

@keyframes expand-pulse-once {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.25);
  } /* Expands out */
  100% {
    transform: scale(1);
  } /* Snaps back */
}

.reset-fab-btn:hover .icon-expand {
  display: flex;
  align-items: center;
  justify-content: center;
  /* 0.4s duration, play 1 time */
  animation: expand-pulse-once 0.4s ease-in-out;
}

/* index.css */

/* --- Reset (Spin) --- */
@keyframes spin-once {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(-360deg);
  }
}
/* Targeting the parent button's hover */
.reset-fab-btn:hover .icon-reset {
  display: flex;
  align-items: center;
  justify-content: center;
  /* 0.6s duration, play 1 time */
  animation: spin-once 0.6s ease-in-out;
}

/* --- Add (Pulse/Bounce) --- */
@keyframes bounce-pulse-once {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}
.add-fab-btn:hover .icon-add {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: bounce-pulse-once 0.4s ease-in-out;
}

/* --- Download (Down Arrow Bounce) --- */
@keyframes bounce-down-once {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-3px);
  }
  60% {
    transform: translateY(-1.5px);
  }
}
.download-fab-btn:hover .icon-download {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: bounce-down-once 0.6s ease;
}

/* --- Select Root (Wiggle/Shake) --- */
@keyframes wiggle-once {
  0%,
  100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-10deg);
  }
  75% {
    transform: rotate(10deg);
  }
}
.root-fab-btn:hover .icon-root {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: wiggle-once 0.3s ease-in-out;
}

/* --- Toggle Edge Labels (Tag Shake) --- */
@keyframes tag-shake-once {
  0%,
  100% {
    transform: rotate(0deg);
  }
  20% {
    transform: rotate(-15deg);
  }
  40% {
    transform: rotate(10deg);
  }
  60% {
    transform: rotate(-5deg);
  }
  80% {
    transform: rotate(5deg);
  }
}
.toggle-fab-btn:hover .icon-tag {
  display: flex;
  align-items: center;
  justify-content: center;
  /* Pivot from the top-left hole of the tag */
  transform-origin: top left;
  animation: tag-shake-once 0.5s ease-in-out;
}

/* --- Trace Route (Path Follow/Dash) --- */
@keyframes dash-once {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  49% {
    transform: translateX(4px);
    opacity: 0;
  }
  51% {
    transform: translateX(-4px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}
.trace-fab-btn:hover .icon-trace {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: dash-once 0.4s ease-in-out;
}

/* --- Undo (Counter-Clockwise Spin) --- */
@keyframes spin-ccw-once {
  0% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(-30deg);
  }
  100% {
    transform: rotate(0deg);
  }
}
.undo-fab-btn:hover .icon-undo {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: spin-ccw-once 0.5s ease-in-out;
}

/* Target the SVG path inside the edge */
.network-edge .react-flow__edge-path {
  transition:
    stroke 0.05s ease,
    stroke-width 0.05s ease;
  cursor: pointer;
}

/* On Hover */
.network-edge:hover {
  z-index: 2000; /* This attempts to bring it forward */
}

.network-edge:hover .react-flow__edge-path {
  stroke: #3b82f6 !important; /* Blue-500 */
  stroke-width: 4px !important;
  opacity: 1 !important;
}
